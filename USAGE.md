# Atlas 浏览器扩展使用指南

## 快速开始

### 1. 安装扩展

1. 下载或构建扩展
2. 打开 Chrome/Edge 浏览器
3. 访问 `chrome://extensions/`
4. 启用"开发者模式"（右上角开关）
5. 点击"加载已解压的扩展程序"
6. 选择 `dist` 文件夹

### 2. 配置 API Key

首次使用需要配置 AI 服务的 API Key：

1. 点击扩展图标
2. 点击"设置"按钮
3. 在"AI 提供商"标签页配置至少一个 AI 服务：
   - **OpenAI:** 需要 GPT-4/GPT-3.5 API Key
   - **Anthropic:** 需要 Claude API Key
   - **Gemini:** 需要 Google AI API Key

获取 API Key：
- OpenAI: https://platform.openai.com/api-keys
- Anthropic: https://console.anthropic.com/
- Gemini: https://makersuite.google.com/app/apikey

## 主要功能

### 1. 侧边栏 AI 助手

**打开方式:**
- 点击扩展图标 → "打开 AI 助手"
- 或在任何页面右键 → "Atlas AI"

**功能:**
- 与 AI 实时对话
- 自动获取当前页面上下文
- 流式响应，实时显示
- 支持 Markdown 格式

**快捷操作:**
- 📝 总结此页：快速总结当前页面内容
- 💡 解释内容：详细解释页面内容
- 🌐 翻译：翻译页面内容
- ❓ 问答：基于页面内容的问答

### 2. 网页内容总结

**使用方法:**
1. 浏览任何网页
2. 右键 → "总结此页面"
3. 或点击扩展图标 → "总结此页面"

AI 会自动提取页面主要内容并生成：
- 简短摘要（2-3句话）
- 3-5个关键要点

总结会保存在本地，避免重复总结。

### 3. 选中文本操作

选中任何文本后右键：
- **解释选中内容:** AI 详细解释选中的文本
- **翻译选中内容:** 翻译选中的文本

### 4. 记忆系统

启用后（默认启用），扩展会：
- 记住您的偏好和习惯
- 在对话中引用相关历史信息
- 提供更个性化的回答

**管理记忆:**
- 在设置中可以禁用记忆系统
- 清除所有数据会删除所有记忆

### 5. 历史记录分析（实验性）

扩展会定期分析您的浏览历史，提供：
- 浏览趋势总结
- 个性化建议
- 使用模式洞察

### 6. 代理模式（实验性）

在设置中启用代理模式后，可以让 AI：
- 自动填写表单
- 点击页面元素
- 执行复杂的网页操作

⚠️ **注意:** 这是实验性功能，使用需谨慎。

## 使用场景

### 场景 1: 阅读长文章

1. 打开文章页面
2. 点击"总结此页面"
3. 快速了解文章要点
4. 在侧边栏询问具体问题

### 场景 2: 学习新知识

1. 浏览学习材料
2. 选中不理解的概念
3. 右键 → "解释选中内容"
4. 继续与 AI 深入讨论

### 场景 3: 翻译外文网站

1. 访问外文网站
2. 打开侧边栏
3. 点击"翻译"
4. AI 翻译整个页面内容

### 场景 4: 研究和分析

1. 打开侧边栏
2. 让 AI 提取页面数据
3. 要求 AI 分析和总结
4. 导出重要信息

## 设置选项

### 常规设置

- **默认 AI 提供商:** 选择默认使用的 AI 服务
- **主题:** 浅色/深色/跟随系统
- **自动总结:** 访问新页面时自动总结
- **启用记忆:** 记住对话历史和偏好
- **代理模式:** 允许 AI 操作页面

### AI 提供商

配置各个 AI 服务的：
- API Key（必填）
- 模型名称（可选，使用默认值）
- 自定义 API 地址（高级用户）

### 高级设置

- **清除所有数据:** 删除所有聊天历史、记忆、总结
- **查看版本信息**

## 快捷键

可以在设置中配置自定义快捷键：
- 打开侧边栏
- 总结当前页面
- 其他常用操作

## 隐私和安全

### 数据存储

- 所有数据存储在本地浏览器
- API Key 加密存储
- 不上传到任何服务器

### 数据传输

- 仅与选择的 AI 服务通信
- 发送的内容包括：
  - 您的消息
  - 当前页面上下文（标题、URL、摘要）
  - 相关记忆（如果启用）

### 权限说明

- **activeTab:** 访问当前标签页内容
- **storage:** 本地存储配置和数据
- **sidePanel:** 显示侧边栏
- **history:** 分析浏览历史（可选功能）
- **tabs:** 管理标签页
- **scripting:** 注入内容脚本

## 常见问题

### Q: 为什么 AI 响应很慢？

A: 可能原因：
- 网络连接慢
- API 服务器响应慢
- 使用的模型较大

### Q: 提示"未配置提供商"

A: 需要在设置中配置至少一个 AI 提供商的 API Key。

### Q: 某些页面无法使用

A: Chrome 安全限制，以下页面无法注入扩展：
- chrome:// 页面
- 浏览器设置页面
- Chrome Web Store

### Q: 如何删除数据？

A: 设置 → 高级设置 → 清除所有数据

### Q: 支持离线使用吗？

A: 不支持。需要联网调用 AI API。

### Q: 会消耗多少 API 额度？

A: 取决于使用频率和消息长度。建议：
- 开始使用时监控 API 用量
- 设置 API 用量限制
- 使用较小的模型（如 GPT-3.5）节省成本

## 技巧和最佳实践

1. **善用快捷操作:** 使用预设的总结、翻译等快捷按钮，更高效
2. **明确提问:** 向 AI 提供清晰具体的问题，获得更好的回答
3. **利用上下文:** AI 能看到当前页面，可以直接问"这个页面讲什么"
4. **管理记忆:** 定期检查和清理记忆，保持相关性
5. **选择合适的 AI:** 不同任务选择不同 AI（GPT-4 更强，GPT-3.5 更快更便宜）

## 获取帮助

遇到问题？
1. 查看开发文档：`DEVELOPMENT.md`
2. 检查浏览器控制台错误信息
3. 提交 Issue（如果是开源项目）

## 更新日志

### v1.0.0 (2025-10-30)
- 初始版本发布
- 支持三大 AI 提供商
- 侧边栏聊天界面
- 网页内容总结
- 记忆系统
- 历史分析
- 代理模式（实验性）

